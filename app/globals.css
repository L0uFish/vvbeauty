html, body {
  margin: 0;
  padding: 0;
}

/* Base Brownie styles */
.brownie-epic-wrapper {
  position: fixed;
  z-index: 9999;
  pointer-events: none;
  animation-timing-function: ease-in-out;
  animation-fill-mode: forwards;
}

.brownie-epic {
  width: 160px;
  filter: brightness(1.1) contrast(1.05)
    drop-shadow(0 0 10px rgba(255, 182, 193, 0.4));
  animation: wobble 2s infinite ease-in-out;
}

/* Sparkles */
.sparkle-container {
  position: absolute;
  top: 50%;
  left: 50%;
  pointer-events: none;
}

.sparkle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: radial-gradient(circle, #fff, transparent);
  animation: sparkleFade 1s infinite;
  opacity: 0.7;
}

.sparkle:nth-child(odd) {
  background: radial-gradient(circle, #ffd1dc, transparent);
}

@keyframes sparkleFade {
  0% { transform: scale(0.5) translate(0, 0); opacity: 1; }
  50% { transform: scale(1.2) translate(10px, -10px); opacity: 0.7; }
  100% { transform: scale(0.8) translate(-5px, 10px); opacity: 0; }
}

/* Brownie flight from all sides */
.brownie-epic-wrapper.left {
  left: -180px;
  top: var(--start);
  animation: flyFromLeftEpic var(--dur);
}

.brownie-epic-wrapper.right {
  right: -180px;
  top: var(--start);
  animation: flyFromRightEpic var(--dur);
}

.brownie-epic-wrapper.top {
  top: -180px;
  left: var(--start);
  animation: flyFromTopEpic var(--dur);
}

.brownie-epic-wrapper.bottom {
  bottom: -180px;
  left: var(--start);
  animation: flyFromBottomEpic var(--dur);
}

/* Flight keyframes with spin, scale, and wobble */
@keyframes flyFromLeftEpic {
  0% { transform: translateX(0) scale(var(--scaleStart)) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  40% { transform: translateX(50vw) translateY(-10vh)
    scale(calc(var(--scaleStart) + 0.2))
    rotate(calc(var(--spinDir) * 180deg)); }
  70% { transform: translateX(80vw) translateY(10vh)
    scale(calc(var(--scaleStart) + 0.4))
    rotate(calc(var(--spinDir) * 360deg)); }
  100% { transform: translateX(110vw) translateY(-10vh)
    scale(calc(var(--scaleStart) + 0.2))
    rotate(calc(var(--spinDir) * 720deg)); opacity: 0; }
}

@keyframes flyFromRightEpic {
  0% { transform: translateX(0) scale(var(--scaleStart)) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  50% { transform: translateX(-70vw) translateY(-20vh)
    scale(calc(var(--scaleStart) + 0.4))
    rotate(calc(var(--spinDir) * -360deg)); }
  100% { transform: translateX(-110vw) translateY(10vh)
    scale(calc(var(--scaleStart) + 0.2))
    rotate(calc(var(--spinDir) * -720deg)); opacity: 0; }
}

@keyframes flyFromTopEpic {
  0% { transform: translateY(0) scale(var(--scaleStart)) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  60% { transform: translateY(70vh) translateX(10vw)
    scale(calc(var(--scaleStart) + 0.3))
    rotate(calc(var(--spinDir) * 540deg)); }
  100% { transform: translateY(110vh) translateX(-10vw)
    scale(calc(var(--scaleStart) + 0.1))
    rotate(calc(var(--spinDir) * 900deg)); opacity: 0; }
}

@keyframes flyFromBottomEpic {
  0% { transform: translateY(0) scale(var(--scaleStart)) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  50% { transform: translateY(-70vh) translateX(-10vw)
    scale(calc(var(--scaleStart) + 0.3))
    rotate(calc(var(--spinDir) * -540deg)); }
  100% { transform: translateY(-110vh) translateX(10vw)
    scale(calc(var(--scaleStart) + 0.1))
    rotate(calc(var(--spinDir) * -900deg)); opacity: 0; }
}

/* Wobble effect */
@keyframes wobble {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(3deg); }
  75% { transform: rotate(-3deg); }
}

/* âœ¨ Golden variant */
.brownie-epic-wrapper.golden .brownie-epic {
  filter: brightness(1.4) contrast(1.2)
    drop-shadow(0 0 15px rgba(255, 215, 0, 0.8));
  animation: wobble 2s infinite ease-in-out;
}

.sparkle.gold {
  background: radial-gradient(circle, #ffd700, transparent);
  box-shadow: 0 0 6px #ffd700;
}

/* Add a faint trail glow */
.brownie-epic-wrapper.golden::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.25), transparent 70%);
  border-radius: 50%;
  filter: blur(10px);
  animation: pulseGlow 2s infinite ease-in-out;
}

@keyframes pulseGlow {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}
